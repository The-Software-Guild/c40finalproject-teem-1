(this.webpackJsonpdrinkology=this.webpackJsonpdrinkology||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var s=n(2),r=n.n(s),a=n(20),i=n.n(a),c=(n(85),n(8)),o=n(10),l=n(12),d=n(11),h=n(13),u=(n(86),n(15)),p=(n(53),n(44),n(3)),j=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).handleSearchedElement=function(e){console.log(s.state.selectedCategory+" "+s.state.elementSearched)},s.handleSearch=function(e){console.log(e.target.value),s.setState({elementSearched:e.target.value})},s.handleCategory=function(e){console.log(e.target.value),s.setState({selectedCategory:e.target.value})},s.redirect=function(e){var t=s.state.elementSearched,n=s.state.selectedCategory;s.setState({elementSearched:"",selectedCategory:""}),s.props.history.push("/find/"+n+"/"+t)},s.tmp=s.props.match.params,s.state={categories:[{category:"s",name:"Drink Name"},{category:"c",name:"Drink Category"},{category:"a",name:"Contains Alcohol"},{category:"g",name:"Glass Type"}],selectedCategory:"",elementSearched:""},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)("nav",{className:"navbar navbar-expand-lg sticky-top navbar-light bg-light",children:Object(p.jsxs)("div",{className:"container-fluid",children:[Object(p.jsx)(u.b,{className:"navbar-brand",to:"/",children:"Drinkology"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsxs)("div",{className:"navbar-collapse",id:"navbarSupportedContent",children:[Object(p.jsxs)("ul",{className:"navbar-nav ml-auto mb-2 mb-lg-0",children:[Object(p.jsx)("li",{className:"nav-item px-3",children:Object(p.jsx)(u.b,{className:"nav-link",to:"/",children:"Home"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(u.b,{className:"nav-link",to:"/mybar",children:"MyBar"})}),Object(p.jsx)("li",{className:"nav-item pl-3",children:Object(p.jsx)(u.b,{className:"nav-link",to:"/all",children:"All Drinks"})})]}),Object(p.jsxs)("form",{className:"d-flex ml-auto",children:[Object(p.jsxs)("select",{className:"form-select form-control mr-2",value:this.state.selectedCategory,onChange:this.handleCategory,children:[Object(p.jsx)("option",{value:"",disabled:!0,children:"Select Category..."},"-1"),this.state.categories.map((function(e,t){return Object(p.jsx)("option",{value:e.category,children:e.name},t)}))]}),Object(p.jsxs)("div",{className:"input-group rounded align-items-center",children:[Object(p.jsx)("input",{type:"search",className:"form-control rounded",value:this.state.elementSearched,onChange:this.handleSearch,placeholder:"Search","aria-label":"Search","aria-describedby":"search-addon",disabled:""===this.state.selectedCategory}),Object(p.jsx)("button",{className:"input-group-text border-0",onClick:this.redirect,id:"search-addon",disabled:""===this.state.elementSearched||""===this.state.selectedCategory,children:Object(p.jsx)("i",{className:"fas fa-search"})})]})]})]})]})})}}]),n}(s.Component),b=Object(h.f)(j),g=n(146),m=n(149),f=n(147),k=n(41),v=n(37),O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.drinkData,t={columns:this.getColumns(),rows:this.getRows(e)};return Object(p.jsx)(k.c,{striped:!0,bordered:!0,hover:!0,scrollX:!0,responsive:!0,fixed:!0,entries:20,maxHeight:"50vh",searching:!1,data:t})}},{key:"getColumns",value:function(){return[{label:"Drink ID",field:"idDrink",sort:"asc",width:100},{label:"Name",field:"strDrink",sort:"asc",width:260},{label:"Category",field:"strCategory",sort:"asc",width:180},{label:"IBA",field:"strIBA",sort:"asc",width:200},{label:"Alcoholic?",field:"strAlcoholic",sort:"asc",width:150},{label:"Glass Type",field:"strGlass",sort:"asc",width:175},{label:"Details",field:"detail",sort:"asc"}]}},{key:"getRows",value:function(e){return null==e||"undefined"==typeof e?[]:e.length>0?e.map((function(e){return{idDrink:e.idDrink,strDrink:e.strDrink,strCategory:e.strCategory,strIBA:e.strIBA,strAlcoholic:e.strAlcoholic,strGlass:e.strGlass,detail:Object(p.jsx)(u.b,{to:"/instructions/"+e.idDrink,children:Object(p.jsx)(m.a,{variant:"outline-primary",size:"sm",children:"See Details"})})}})):[]}}]),n}(s.Component),x=Object(v.a)(O),y=(n(114),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"renderSuggestions",value:function(){var e=this.props,t=e.suggestions,n=e.suggestedSelected;return 0===t.length?null:Object(p.jsx)("ul",{children:t.map((function(e,t){return Object(p.jsx)("li",{value:e,onClick:function(){return n(e)},children:e},t)}))})}},{key:"render",value:function(){var e=this.props,t=e.searchTerm,n=e.inputChange;return Object(p.jsxs)("div",{className:"AutocompleteText",children:[Object(p.jsx)("input",{value:t,type:"text",onChange:n}),this.renderSuggestions()]})}}]),n}(r.a.Component)),w=(n(115),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).loadDrinksFromURL=function(){var e=s.props.match.params.element;e&&(e=e.replace(/%20/g," ")),s.setState({searchTerm:s.props.match.params.element,searchCategory:s.props.match.params.category,allTerms:[s.props.match.params.element]},(function(){s.getDrinks()}))},s.loadAllDrinks=function(e){fetch("https://www.thecocktaildb.com/api/json/v2/9973533/search.php?s=").then((function(e){return e.json()})).then((function(e){s.setState({drinks:e.drinks})}))},s.getAllSearchTerms=function(e){var t=[];"c"===s.state.searchCategory?fetch("https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list").then((function(e){return e.json()})).then((function(e){e.drinks.forEach((function(e){t=t.concat(e.strCategory)})),s.setState({allTerms:t})})):"g"===s.state.searchCategory?fetch("https://www.thecocktaildb.com/api/json/v1/1/list.php?g=list").then((function(e){return e.json()})).then((function(e){e.drinks.forEach((function(e){t=t.concat(e.strGlass)})),s.setState({allTerms:t})})):"a"===s.state.searchCategory&&fetch("https://www.thecocktaildb.com/api/json/v1/1/list.php?a=list").then((function(e){return e.json()})).then((function(e){e.drinks.forEach((function(e){t=t.concat(e.strAlcoholic)})),s.setState({allTerms:t})}))},s.onTextChange=function(e){var t=e.target.value,n=[];if(t.length>0){var r=new RegExp("^".concat(t),"i");n=s.state.allTerms.sort().filter((function(e){return r.test(e)}))}s.setState((function(){return{suggestions:n,searchTerm:t}}))},s.suggestedSelected=function(e){s.setState((function(){return{searchTerm:e,suggestions:[]}}))},s.changeCategory=function(e){var t=e.currentTarget.value;s.setState((function(e){return{searchCategory:t}}),(function(){s.getAllSearchTerms()}))},s.getDrinks=function(e){console.log("search category = ".concat(s.state.searchCategory)),console.log("search term = ".concat(s.state.searchTerm)),"s"===s.state.searchCategory?fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+s.state.searchTerm).then((function(e){return e.json()})).then((function(e){s.setState({drinks:e.drinks})})):s.state.allTerms.includes(s.state.searchTerm)?fetch("https://www.thecocktaildb.com/api/json/v1/1/filter.php?"+s.state.searchCategory+"="+s.state.searchTerm).then(s.handleErrors).then((function(e){return e.json()})).then((function(e){s.setState({filteredDrinks:e.drinks,drinks:[]},(function(){s.state.filteredDrinks.forEach((function(e){fetch("https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i="+e.idDrink).then((function(e){return e.json()})).then((function(e){s.setState({drinks:s.state.drinks.concat(e.drinks)})}))}))}))})):s.setState({drinks:[]})},s.state={drinks:[],categories:[{category:"s",name:"Drink Name"},{category:"c",name:"Drink Category"},{category:"a",name:"Contains Alcohol"},{category:"g",name:"Glass Type"}],searchCategory:"",searchTerm:"",filteredDrinks:[],allTerms:[],suggestions:[]},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.match.params.element||void 0!==this.state.drinks&&0!=this.state.drinks.length?this.loadDrinksFromURL():this.loadAllDrinks()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.location.pathname!==e.location.pathname&&(this.props.match.params.element?this.loadDrinksFromURL():this.setState({searchTerm:"",searchCategory:""},(function(){t.loadAllDrinks()})))}},{key:"render",value:function(){var e=this.state,t=e.drinks,n=e.searchTerm,s=e.suggestions;return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{id:"all_page",children:[Object(p.jsx)("h1",{id:"all_page_title",children:"Available Drinks"}),Object(p.jsxs)(g.a,{children:[Object(p.jsx)(m.a,{variant:"info",id:"allDrinksButton",size:"sm",onClick:this.loadAllDrinks,children:"See All Drinks"}),Object(p.jsx)(f.a,{md:{span:7,offset:1},children:Object(p.jsxs)(g.a,{className:"drinkSearch align-items-center",children:[Object(p.jsx)(f.a,{children:Object(p.jsxs)("select",{className:"form-select form-control mr-2",value:this.state.searchCategory,onChange:this.changeCategory,children:[Object(p.jsx)("option",{value:"",disabled:!0,children:"Select Category..."},"-1"),this.state.categories.map((function(e,t){if(e)return Object(p.jsx)("option",{value:e.category,children:e.name},t)}))]})}),Object(p.jsx)(f.a,{children:Object(p.jsx)(y,{inputChange:this.onTextChange,suggestions:s,suggestedSelected:this.suggestedSelected,searchTerm:n})}),Object(p.jsx)(m.a,{variant:"success",id:"drinkSearchButton",size:"sm",onClick:this.getDrinks,children:"Search Drinks"})]})})]}),Object(p.jsx)(x,{drinkData:t})]})})}}]),n}(s.Component)),C=Object(h.f)(w),D=(n(116),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.setState({loading:!0}),console.log("Loading data"),fetch("https://www.thecocktaildb.com/api/json/v1/1/random.php").then((function(e){return e.json()})).then((function(e){return s.setState({cocktail:e.drinks[0]})})).catch((function(e){console.log(e)}))},s.state={cocktail:{}},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{id:"homePage",children:[Object(p.jsx)("h1",{style:{fontWeight:"Bold"},children:"Welcome!"}),Object(p.jsx)("hr",{className:"thick"}),Object(p.jsxs)("p",{style:{fontWeight:"Bold"},children:["Welcome to Team 1's Drinkology Web App! Try out a new drink recipe below or find new recipes on your own. Discover all of the drinks you can create by visiting the ",Object(p.jsx)("a",{href:"/mybar",children:"MyBar"})," page! Simply login, select your ingredients, then get to drinking! Or explore all of the available drink recipes in the ",Object(p.jsx)("a",{href:"/all",children:"All Drinks"})," page."]}),Object(p.jsx)("h2",{style:{marginTop:"2em",fontWeight:"Bold"},children:"Try Something New!"}),Object(p.jsx)("div",{className:"card mb-3",children:Object(p.jsxs)("div",{className:"row no-gutters special-card",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("img",{src:this.state.cocktail.strDrinkThumb,className:"card-img",alt:""})}),Object(p.jsx)("div",{className:"col-md-8",children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title",children:this.state.cocktail.strDrink}),Object(p.jsxs)("p",{children:["An ",this.state.cocktail.strAlcoholic,"  drink served in a ",this.state.cocktail.strGlass]}),Object(p.jsx)(m.a,{variant:"dark",href:"/instructions/"+this.state.cocktail.idDrink,children:"See how its made!"})]})})]})})]})}}]),n}(r.a.Component)),I=n(19),S=n.n(I),N=n(25),T=(n.p,n(148)),A=function(e){var t=e.drink;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t.idDrink}),Object(p.jsx)("td",{children:t.strDrink}),Object(p.jsx)("td",{children:t.strCategory}),Object(p.jsx)("td",{children:t.strIBA}),Object(p.jsx)("td",{children:t.strAlcoholic}),Object(p.jsx)("td",{children:t.strGlass})]})},L=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return console.log(this.props.drinks),Object(p.jsxs)(T.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"ID"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Category"}),Object(p.jsx)("th",{children:"IBA"}),Object(p.jsx)("th",{children:"Type"}),Object(p.jsx)("th",{children:"GlassType"})]})}),Object(p.jsx)("tbody",{children:this.props.drinks.map((function(e,t){return Object(p.jsx)(A,{drink:e})}))})]})}}]),n}(s.Component);L.defaultProps={drinks:[{idDrink:1,strDrink:"",strCategory:"",strIBA:"",strAlcoholic:"",strGlass:""}]};var B=n(75),F=n.n(B),G=(n(136),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.ableData,t=this.props.drinkData,n={columns:this.getColumns(),rows:this.getRows(t,e)};return Object(p.jsx)(k.c,{striped:!0,bordered:!0,hover:!0,scrollX:!0,responsive:!0,fixed:!0,entries:20,maxHeight:"50vh",searching:!1,data:n})}},{key:"getColumns",value:function(){return[{label:"Drink ID",field:"idDrink",sort:"asc",width:100},{label:"Name",field:"strDrink",sort:"asc",width:260},{label:"Category",field:"strCategory",sort:"asc",width:180},{label:"Able To Make",field:"strAble",sort:"asc",width:200},{label:"Alcoholic?",field:"strAlcoholic",sort:"asc",width:150},{label:"Glass Type",field:"strGlass",sort:"asc",width:175},{label:"Details",field:"detail",sort:"asc"}]}},{key:"getRows",value:function(e,t){return null==e||"undefined"==typeof e?[]:e.map((function(e){var n="False";return t.includes(e)&&(n="True"),{idDrink:e.idDrink,strDrink:e.strDrink,strCategory:e.strCategory,strAble:n,strAlcoholic:e.strAlcoholic,strGlass:e.strGlass,detail:Object(p.jsx)(u.b,{to:"/instructions/"+e.idDrink,children:Object(p.jsx)(m.a,{variant:"outline-primary",size:"sm",children:"See Details"})})}}))}}]),n}(s.Component)),U=Object(v.a)(G),M=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.loadCocktail(),console.log(s.state.cocktail)},s.state={cocktail:{},ingredients:[],id:s.props.match.params.id},s}return Object(o.a)(n,[{key:"loadCocktail",value:function(){var e=this;this.setState({loading:!0}),fetch("https://www.thecocktaildb.com/api/json/v2/9973533/lookup.php?i=".concat(this.state.id)).then((function(e){return e.json()})).then((function(t){return e.setState({cocktail:t.drinks[0],ingredients:[t.drinks[0].strIngredient1,t.drinks[0].strIngredient2,t.drinks[0].strIngredient3,t.drinks[0].strIngredient4,t.drinks[0].strIngredient5,t.drinks[0].strIngredient6,t.drinks[0].strIngredient7,t.drinks[0].strIngredient8,t.drinks[0].strIngredient9,t.drinks[0].strIngredient10,t.drinks[0].strIngredient11,t.drinks[0].strIngredient12,t.drinks[0].strIngredient13,t.drinks[0].strIngredient14,t.drinks[0].strIngredient15]})}))}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"card bg-light",children:Object(p.jsxs)("div",{className:"row no-gutters",children:[Object(p.jsx)("div",{className:"col md-4",children:Object(p.jsx)("img",{className:"card-img",src:this.state.cocktail.strDrinkThumb})}),Object(p.jsx)("div",{className:"col md-8",children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h3",{className:"card-title",children:this.state.cocktail.strDrink}),Object(p.jsx)("h6",{className:"card-title",children:this.state.cocktail.strCategory}),Object(p.jsx)("ul",{style:{columns:"2"},children:this.state.ingredients.map((function(e,t){if(e)return Object(p.jsx)("li",{className:"text-left",children:e},t)}))}),Object(p.jsx)("p",{children:this.state.cocktail.strInstructions}),Object(p.jsxs)("p",{className:"card-text text-sm-center text-muted",children:["Last updated on ",this.state.cocktail.dateModified]})]})})]})})}}]),n}(s.Component),P=Object(h.f)(M),E=n(6),R=new function e(){Object(c.a)(this,e),Object(E.h)(this,{loading:!0,isLoggedIn:!1,username:"",ingredients:[]})},V=n(39),W=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"inputField",children:["input field",Object(p.jsx)("input",{className:"input",type:this.props.type,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)}})]})}}]),n}(r.a.Component),J=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"submitbutton",children:Object(p.jsx)("button",{className:"btn",disabled:this.props.disabled,onClick:function(){return e.props.onClick()},children:this.props.text})})}}]),n}(r.a.Component),_=(n(137),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={username:"",password:"",buttonDisabled:!1},s}return Object(o.a)(n,[{key:"setInputValue",value:function(e,t){(t=t.trim()).length>12||this.setState(Object(V.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({username:"",password:"",buttonDisabled:!1})}},{key:"doLogin",value:function(){var e=Object(N.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:return this.setState({buttonDisabled:!0}),e.prev=5,e.next=8,fetch("/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 8:return t=e.sent,e.next=11,t.json();case 11:(n=e.sent)&&n.success?(R.isLoggedIn=!0,R.username=n.username):n&&!1===n.success&&(this.resetForm(),alert(n.msg)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0),this.resetForm();case 19:case"end":return e.stop()}}),e,this,[[5,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"loginForm",children:["Log in",Object(p.jsx)(W,{type:"text",placeholder:"Username",value:this.state.username?this.state.username:"",onChange:function(t){return e.setInputValue("username",t)}}),Object(p.jsx)(W,{type:"password",placeholder:"Password",value:this.state.password?this.state.password:"",onChange:function(t){return e.setInputValue("password",t)}}),Object(p.jsx)(J,{text:"Login",disabled:this.state.buttonDisabled,onClick:function(){return e.doLogin()}})]})}}]),n}(r.a.Component)),z=n(40),H=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={username:"",password:"",cpassword:"",buttonDisabled:!1},s}return Object(o.a)(n,[{key:"checkPassword",value:function(){return console.log(this.state.password),console.log(this.state.cpassword),this.props.password===this.props.cpassword}},{key:"setInputValue",value:function(e,t){(t=t.trim()).length>12||this.setState(Object(V.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({username:"",password:"",cpassword:"",buttonDisabled:!1})}},{key:"add",value:function(){var e=Object(N.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.checkPassword()){e.next=15;break}return this.setState({buttonDisabled:!0}),e.prev=2,e.next=5,fetch("/add",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 5:return t=e.sent,e.next=8,t.json();case 8:e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),this.resetForm();case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"loginForm",children:["Log in",Object(p.jsx)(W,{type:"text",placeholder:"Username",value:this.state.username?this.state.username:"",onChange:function(t){return e.setInputValue("username",t)}}),Object(p.jsx)(W,{type:"password",placeholder:"Password",value:this.state.password?this.state.password:"",onChange:function(t){return e.setInputValue("password",t)}}),Object(p.jsx)(W,{type:"password",placeholder:"Confirm Password",value:this.state.cpassword?this.state.cpassword:"",onChange:function(t){return e.setInputValue("cpassword",t)}}),Object(p.jsx)(J,{text:"Login",disabled:this.state.buttonDisabled,onClick:function(){return e.add()}})]})}}]),n}(r.a.Component),X=[],q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={showLogin:!0,drinks:[],ableToMake:[],useringredients:[],ingredientList:[]},e.selectFunction=function(t){console.log("select");var n=t.map((function(e){return e.value.toLowerCase()}));e.storeUserIngredients(n),e.loadDrinks()},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadDrinks(),this.getIngredients(),console.log(this.state.ingredientList),console.log(this.state.useringredients),e.prev=4,e.next=7,fetch("/isLoggedIn",{method:"post",header:{Accept:"application/json","Content-Type":"application/json"}});case 7:return t=e.sent,e.next=10,t.json();case 10:(n=e.sent)&&n.success?(R.loading=!1,R.isLoggedIn=!0,R.username=n.username):(R.loading=!1,R.isLoggedIn=!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),R.loading=!1,R.isLoggedIn=!1;case 18:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"doLogout",value:function(){var e=Object(N.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/logout",{method:"post",header:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&n.success&&(R.isLoggedIn=!1,R.username=""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadDrinks",value:function(){var e=this;console.log("loaddrinks"),fetch("https://www.thecocktaildb.com/api/json/v2/9973533/search.php?s=").then((function(e){return e.json()})).then((function(t){e.setState({drinks:t.drinks}),t.drinks.map((function(t,n){var s=[t.strIngredient1,t.strIngredient2,t.strIngredient3,t.strIngredient4,t.strIngredient5,t.strIngredient6,t.strIngredient7,t.strIngredient8,t.strIngredient9,t.strIngredient10,t.strIngredient11,t.strIngredient12,t.strIngredient13,t.strIngredient14,t.strIngredient15].filter((function(e){return null!=e}));s.map((function(e,t){s[t]=e.toLowerCase()})),e.state.ingredientList.push(s)})),e.setState({ingredientList:e.state.ingredientList},(function(){e.getIngredientsFromDB()}))}))}},{key:"storeUserIngredients",value:function(){var e=Object(N.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/store",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:R.username,uingredients:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getDrinksByIngredients",value:function(){var e=this;console.log("getdrinks by ing");var t=[];this.state.ingredientList.map((function(n,s){var r=!0;n.map((function(t,n){e.state.useringredients.includes(t.toLowerCase())||(r=!1)})),1!=r||e.state.ableToMake.includes(e.state.drinks[s])||t.push(e.state.drinks[s])})),0!=t.length&&this.setState({ableToMake:this.state.ableToMake.concat(t)})}},{key:"getIngredientsFromDB",value:function(){var e=Object(N.a)(S.a.mark((function e(){var t,n=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DB"),e.prev=1,e.next=4,fetch("/getingredients",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:e.sent.map((function(e,t){n.state.useringredients.push(e.strName.toLowerCase())})),this.setState({useringredients:this.state.useringredients},(function(){return n.getDrinksByIngredients()})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getIngredients",value:function(){fetch("https://www.thecocktaildb.com/api/json/v2/9973533/list.php?i=list").then((function(e){return e.json()})).then((function(e){e.drinks.map((function(e,t){X.push({label:e.strIngredient1,value:e.strIngredient1})}))}))}},{key:"changeLogin",value:function(){this.isLoggedIn?this.setState({isLoggedIn:!1}):this.setState({isLoggedIn:!0})}},{key:"render",value:function(){var e=this;return R.loading?Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("div",{className:"container",children:"Loading, please wait...;"})}):R.isLoggedIn?Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{id:"mybar_page_title",children:"Select which Ingredients you have at home!"}),Object(p.jsx)("div",{class:"selectbox",children:Object(p.jsx)(F.a,{options:X,onChange:this.selectFunction})}),Object(p.jsx)("br",{}),Object(p.jsx)(U,{drinkData:this.state.drinks,ableData:this.state.ableToMake}),"Welcome ",R.username,Object(p.jsx)(J,{text:"Log out",disabled:!1,onClick:function(){return e.doLogout()}})]}):(console.log(this.state.isNewUser),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(g.a,{children:this.state.isNewUser?Object(p.jsx)(H,{}):Object(p.jsx)(_,{})}),Object(p.jsx)(g.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsx)(m.a,{className:"formChangeBtn",onClick:function(){return e.setState((function(e){return{isNewUser:!e.isNewUser}}))},children:this.state.isNewUser?"Already have an account?":"New User?"})})})]}))}}]),n}(s.Component),K=Object(z.a)(q),Q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(b,{}),Object(p.jsx)("main",{children:Object(p.jsxs)(h.c,{children:[Object(p.jsx)(h.a,{exact:!0,path:"/",component:D}),Object(p.jsx)(h.a,{path:"/home",component:D}),Object(p.jsx)(h.a,{path:"/mybar",component:K}),Object(p.jsx)(h.a,{path:"/all",component:C}),Object(p.jsx)(h.a,{path:"/instructions/:id",component:P}),Object(p.jsx)(h.a,{path:"/find/:category/:element",component:C})]})})]})}}]),n}(r.a.Component),Y=Object(z.a)(Q),Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,150)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))};n(138),n(139),n(140);i.a.render(Object(p.jsx)(u.a,{children:Object(p.jsx)(Y,{})}),document.getElementById("root")),Z()},53:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){}},[[141,1,2]]]);
//# sourceMappingURL=main.a2278352.chunk.js.map